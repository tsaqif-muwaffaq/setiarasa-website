<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- 1. Meta Title & Description (SEO) -->
    <title>Setia Rasa | Restoran Nusantara & Pesan Online di Batam</title>
    <meta name="description" content="Nikmati cita rasa otentik masakan nusantara di Rumah Makan Setia Rasa, Batam. Pesan online menu favorit Anda seperti Nasi Goreng Spesial & Ayam Kremes. Tersedia untuk makan di tempat, ambil sendiri, atau delivery.">
    <meta name="keywords" content="restoran batam, rumah makan batam, kuliner batam, setia rasa batam, pesan online makanan batam, masakan nusantara batam, nasi goreng batam, ayam kremes batam, delivery makanan batam">
    <meta name="author" content="Rumah Makan Setia Rasa">

    <!-- 2. Open Graph Tags (untuk Facebook, WhatsApp, dll) -->
    <meta property="og:title" content="Setia Rasa | Restoran Nusantara & Pesan Online di Batam">
    <meta property="og:description" content="Nikmati cita rasa otentik masakan nusantara di Rumah Makan Setia Rasa, Batam. Pesan online menu favorit Anda seperti Nasi Goreng Spesial & Ayam Kremes.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://setiarasa-website.vercel.app">
    <meta property="og:image" content="https://images.unsplash.com/photo-1555939594-58d7cb561ad1?q=80&w=1200&h=630&fit=crop">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:site_name" content="Rumah Makan Setia Rasa">
    <meta property="og:locale" content="id_ID">

    <!-- 3. Twitter Card Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Setia Rasa | Restoran Nusantara & Pesan Online di Batam">
    <meta name="twitter:description" content="Nikmati cita rasa otentik masakan nusantara di Rumah Makan Setia Rasa, Batam. Pesan online menu favorit Anda seperti Nasi Goreng Spesial & Ayam Kremes.">
    <meta name="twitter:image" content="https://images.unsplash.com/photo-1555939594-58d7cb561ad1?q=80&w=1200&h=630&fit=crop">

    <link rel="icon" href="setiarasa-logo-removebg-preview.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@700&family=Inter:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --warna-merah: #c0392b; /* Merah yang kuat tapi elegan */
            --warna-kuning: #f1c40f; /* Kuning cerah sebagai aksen */
            --warna-hijau: #27ae60; /* Hijau segar */
            --warna-dasar: #2c3e50; /* Abu-abu gelap untuk teks */
            --warna-sekunder: #555; /* Abu-abu lebih terang untuk sub-teks */
            --latar-belakang: #fdfdfd; /* Putih gading untuk latar */
            --latar-elemen: white; /* Latar untuk card, header, dll. */
            --latar-alternatif: #f9f9f9; /* Latar untuk seksi testimoni */
            --bayangan: rgba(0,0,0,0.1);
            --border-warna: #eee;
            --font-judul: 'Cormorant Garamond', serif;
            --font-isi: 'Inter', sans-serif;
        }

        body.dark-mode {
            --warna-dasar: #ecf0f1;
            --warna-sekunder: #bdc3c7;
            --latar-belakang: #23272f;
            --latar-elemen: #2c3e50;
            --latar-alternatif: #282c34;
            --bayangan: rgba(0,0,0,0.4);
            --border-warna: #444;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-isi);
            margin: 0;
            padding: 0;
            background-color: var(--latar-belakang);
            color: var(--warna-dasar);
        }

        /* Mencegah scroll saat menu mobile terbuka */
        body.no-scroll {
            overflow: hidden;
        }

        /* Header & Navigasi */
        .header {
            background-color: var(--latar-elemen);
            padding: 1rem 2rem;
            /* Menggunakan Grid untuk layout yang lebih robust dan terpusat */
            display: grid;
            grid-template-columns: auto 1fr auto;
            gap: 1.5rem; /* Jarak antar elemen header: logo, nav, controls */
            align-items: center;
            box-shadow: 0 2px 10px var(--bayangan);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .logo {
            font-family: var(--font-judul);
            font-size: 1.8rem;
            color: var(--warna-merah);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 10px; /* Jarak antara logo dan teks */
        }

        .logo img {
            height: 40px; /* Sesuaikan tinggi logo */
            width: auto;
        }

        .navigasi {
            /* Desktop: flex container untuk menata link secara horizontal dan terpusat */
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 25px; /* Jarak modern antar link, menggantikan margin */
        }

        .navigasi a {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            text-decoration: none;
            color: var(--warna-dasar);
            font-weight: 500;
            transition: color 0.3s ease;
            position: relative; /* Diperlukan untuk animasi garis bawah */
            padding-bottom: 8px; /* Beri ruang untuk garis animasi */
        }

        /* Add margin to all nav links except the first one */
        .navigasi a + a {
            /* Dihapus karena sekarang menggunakan 'gap' pada container .navigasi */
        }

        .navigasi a:hover, .navigasi a.active {
            color: var(--warna-merah);
        }

        /* Animasi Garis Bawah Keren untuk Link Navigasi */
        .navigasi a:not(.tombol-pesan-nav)::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 2px;
            background-color: var(--warna-merah);
            bottom: 0;
            left: 0;
            transform: scaleX(0);
            transform-origin: center; /* Animasi dari tengah ke samping */
            transition: transform 0.4s cubic-bezier(0.19, 1, 0.22, 1);
        }

        .navigasi a:not(.tombol-pesan-nav):hover::after, .navigasi a:not(.tombol-pesan-nav).active::after {
            transform: scaleX(1);
        }

        /* --- Animasi Ikon Navigasi --- */
        .nav-icon {
            width: 18px;
            height: 18px;
            transition: transform 0.4s cubic-bezier(0.19, 1, 0.22, 1);
        }

        .navigasi a:hover .nav-icon, .navigasi a.active .nav-icon {
            transform: translateY(-2px) scale(1.1);
        }

        .tombol-pesan-nav {
            background-color: var(--warna-hijau);
            color: white !important;
            padding: 8px 16px;
            border-radius: 5px;
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .tombol-pesan-nav:hover {
            background-color: #219d55;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .tombol-pesan-nav:hover .nav-icon {
            transform: rotate(10deg) scale(1.1);
        }
        .tombol-pesan-nav:active {
            transform: translateY(0);
        }

        /* Hamburger Menu (untuk mobile) */
        .hamburger-menu {
            display: none; /* Sembunyi di desktop */
            flex-direction: column;
            justify-content: space-around;
            width: 2rem;
            height: 2rem;
            background: transparent;
            border: none;
            cursor: pointer;
            padding: 0;
            z-index: 101; /* Pastikan di atas overlay */
        }

        .hamburger-menu span {
            width: 2rem;
            height: 0.25rem;
            background: var(--warna-dasar);
            border-radius: 10px;
            transition: all 0.3s ease-in-out;
            position: relative;
            transform-origin: 1px;
        }

        /* Animasi Hamburger menjadi 'X' */
        .hamburger-menu.open span:nth-child(1) { transform: rotate(45deg); }
        .hamburger-menu.open span:nth-child(2) { opacity: 0; transform: translateX(20px); }
        .hamburger-menu.open span:nth-child(3) { transform: rotate(-45deg); }

        /* Animasi hover untuk hamburger */
        .hamburger-menu:not(.open):hover span:nth-child(1) {
            transform: translateY(-2px);
        }
        .hamburger-menu:not(.open):hover span:nth-child(3) {
            transform: translateY(2px);
        }

        .header-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
            justify-self: end; /* Meratakan kontrol ke ujung kanan grid */
        }

        /* Theme Switcher dengan Animasi Matahari/Bulan */
        .theme-switcher input {
            display: none;
        }

        .theme-switcher label {
            cursor: pointer;
            display: block;
            width: 50px;
            height: 26px;
            background-color: #87CEEB; /* Sky blue untuk siang hari */
            border-radius: 13px;
            position: relative; 
            transition: background-color 0.4s ease;
        }
        .theme-switcher label:hover {
            box-shadow: 0 0 8px color-mix(in srgb, var(--warna-kuning) 50%, transparent);
        }

        body.dark-mode .theme-switcher label {
            background-color: #2c3e50; /* Biru gelap untuk malam hari */
        }

        /* Bagian 'thumb' yang bergerak - Desain Baru Profesional */
        .theme-switcher .thumb {
            position: absolute;
            width: 22px;
            height: 22px;
            background-color: var(--warna-kuning);
            border-radius: 50%;
            top: 2px;
            left: 2px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            /* Bayangan bulan sabit, awalnya transparan dan tidak terlihat */
            box-shadow: inset 0 0 0 0 transparent;
        }

        /* Saat mode gelap, thumb bergerak dan menjadi bulan */
        .theme-switcher input:checked + label .thumb {
            transform: translateX(24px);
            background-color: transparent; /* Inti matahari menghilang */
            /* Bayangan inset muncul untuk membentuk bulan sabit yang rapi */
            box-shadow: inset -8px 0 0 0 #f1f2f6;
        }


        /* Hero Section */
        .hero {
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            height: 80vh;
            background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('https://images.unsplash.com/photo-1555939594-58d7cb561ad1?q=80&w=1887&auto=format&fit=crop') no-repeat center center/cover;
            color: white;
            padding: 0 2rem;
        }

        /* Keyframes untuk animasi huruf yang mewah */
        @keyframes luxuriousLetterReveal {
            from {
                opacity: 0;
                transform: translateY(100%) scale(0.5);
                filter: blur(2px);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
                filter: blur(0);
            }
        }

        /* Keyframes untuk animasi fade-in dan slide-up (tetap digunakan untuk elemen lain) */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .hero-content {
            /* Tidak perlu properti khusus lagi */
        }

        .hero-content h1 {
            font-family: var(--font-judul);
            font-size: 3.5rem;
            margin-bottom: 1rem;
            /* Hapus flexbox, biarkan teks mengalir normal untuk animasi per huruf */
        }

        /* Wrapper untuk setiap kata agar tidak terpotong di mobile */
        .hero-content h1 .word {
            display: inline-block;
        }

        /* Styling untuk setiap huruf yang akan dianimasikan oleh JS */
        .hero-content h1 .letter {
            display: inline-block;
            opacity: 0; /* Mulai dari transparan */
            animation: luxuriousLetterReveal 0.8s cubic-bezier(0.2, 1, 0.3, 1) forwards;
        }

        .hero-content p {
            font-size: 1.2rem;
            max-width: 600px;
            margin: 0 auto 2rem;
            /* Animasi untuk subjudul */
            opacity: 0;
            animation: fadeInUp 0.8s ease-out 1.8s forwards; /* Delay disesuaikan */
        }

        .tombol-cta {
            background-color: var(--warna-merah);
            color: white;
            padding: 12px 25px;
            border-radius: 5px;
            text-decoration: none;
            font-weight: 500;
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            /* Animasi untuk tombol */
            opacity: 0;
            animation: fadeInUp 0.8s ease-out 2.0s forwards; /* Delay disesuaikan */
        }

        .tombol-cta:hover {
            background-color: #a52d22;
            transform: translateY(-3px);
            box-shadow: 0 7px 14px rgba(0,0,0,0.2);
        }
        .tombol-cta:active {
            transform: translateY(0);
        }

        /* Section Styling */
        .container {
            max-width: 1100px;
            margin: auto;
            padding: 4rem 2rem;
            text-align: center;
        }

        h2.judul-section {
            font-family: var(--font-judul);
            font-size: 2.5rem;
            margin-bottom: 1rem;
            position: relative;
            display: inline-block;
        }

        h2.judul-section::after {
            content: '';
            position: absolute;
            width: 60%;
            height: 4px;
            background-color: var(--warna-kuning);
            bottom: -10px;
            left: 20%;
        }

        .deskripsi-section {
            font-size: 1.1rem;
            color: var(--warna-sekunder);
            max-width: 700px;
            margin: 0 auto 3rem;
        }

        /* Menu Section */
        .menu-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
            text-align: left;
        }

        .menu-kategori {
            background: var(--latar-elemen);
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 4px 15px var(--bayangan);
        }

        .menu-kategori h3 {
            font-family: var(--font-judul);
            font-size: 1.8rem;
            color: var(--warna-merah);
            border-bottom: 2px solid var(--warna-kuning);
            padding-bottom: 0.5rem;
            margin-top: 0;
            margin-bottom: 1rem;
        }

        .menu-kategori ul {
            list-style: none;
            padding: 0;
            margin: 0;
            column-count: 2;
            column-gap: 2rem;
        }

        .menu-kategori li {
            padding: 0.5rem 0;
            border-bottom: 1px dashed var(--border-warna);
            text-align: left;
        }

        .menu-item {
            background: var(--latar-elemen);
            border-radius: 8px;
            box-shadow: 0 4px 15px var(--bayangan);
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .menu-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px color-mix(in srgb, var(--bayangan) 120%, transparent);
        }

        .menu-item img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .menu-info {
            padding: 1.5rem;
        }

        .menu-info h3 {
            font-family: var(--font-judul);
            font-size: 1.5rem;
            margin: 0 0 0.5rem 0;
            color: var(--warna-dasar);
        }

        .menu-info p {
            margin: 0 0 1rem 0;
            color: var(--warna-sekunder);
        }

        .harga {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--warna-hijau);
        }

        /* Breakpoint untuk tablet dan mobile. Dinaikkan dari 820px ke 992px untuk mendukung perangkat seperti Surface Pro. */
        @media (max-width: 992px) {
            .header {
                /* Kembali ke flexbox untuk layout mobile yang lebih simpel */
                display: flex;
                justify-content: space-between;
                padding: 1rem 1.5rem;
            }

            .navigasi {
                /* Ini adalah style untuk menu overlay saat mobile */
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                gap: 2rem; /* Perbesar jarak di menu mobile */
                background: color-mix(in srgb, var(--latar-elemen) 95%, transparent);
                backdrop-filter: blur(8px);
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100vh;
                transform: translateY(-100%);
                transition: transform 0.4s cubic-bezier(0.23, 1, 0.32, 1);
                z-index: 100;
            }

            .navigasi.open {
                transform: translateY(0);
            }

            .navigasi a {
                /* Hapus margin yang tidak perlu karena sudah pakai gap */
                font-size: 1.5rem;
                padding: 0.5rem;
                gap: 12px; /* Perbesar jarak ikon dan teks di mobile */
            }

            .nav-icon {
                width: 22px; /* Perbesar ikon di mobile */
                height: 22px;
            }
            .tombol-pesan-nav { margin: 1rem 0 0 0; }
            .header-controls {
                z-index: 1001;
            }
            .hamburger-menu { display: flex; }

            .hero-content h1 { font-size: 2.5rem; }
            .hero-content p { font-size: 1.1rem; }
            .container { padding: 3rem 1.5rem; }

            .menu-kategori ul {
                column-count: 1;
            }

            /* Menyesuaikan form agar menjadi 1 kolom di mobile */
            .form-menu-items-grid {
                grid-template-columns: 1fr;
            }

            .item-pilihan input[type="number"] {
                padding: 5px;
                font-size: 0.9rem;
            }
        }

        /* Filter dan Search Menu */
        .filter-controls {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        #menu-search-input {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border-warna);
            border-radius: 5px;
            font-family: var(--font-isi);
            font-size: 1rem;
            box-sizing: border-box;
            background-color: var(--latar-belakang);
            color: var(--warna-dasar);
            transition: border-color 0.3s, box-shadow 0.3s;
        }

        #menu-search-input:focus {
            outline: none;
            border-color: var(--warna-merah);
            box-shadow: 0 0 0 3px color-mix(in srgb, var(--warna-merah) 20%, transparent);
        }

        .category-filters {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .filter-btn {
            padding: 8px 15px;
            border: 1px solid var(--border-warna);
            background-color: var(--latar-elemen);
            color: var(--warna-sekunder);
            border-radius: 20px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .filter-btn:hover {
            background-color: var(--warna-kuning);
            color: var(--warna-dasar);
            border-color: var(--warna-kuning);
        }

        .filter-btn.active {
            background-color: var(--warna-merah);
            color: white;
            border-color: var(--warna-merah);
            transform: scale(1.05);
        }

        .filter-btn:active {
            transform: scale(0.97);
            transition-duration: 0.1s;
        }

        /* --- Grid untuk Opsi Pemesanan (Card Style) --- */
        .options-grid {
            display: grid;
            /* Kolom akan menyesuaikan otomatis dengan ruang yang tersedia */
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 1rem;
        }

        /* --- Styling Card Opsi --- */
        .option-card {
            background-color: var(--latar-elemen);
            border: 2px solid var(--border-warna);
            border-radius: 10px;
            padding: 1.5rem 1rem;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
            user-select: none;
            text-align: center;
        }

        .option-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 15px var(--bayangan);
            border-color: var(--warna-kuning);
        }

        .option-card:active {
            transform: translateY(0) scale(0.98);
            box-shadow: 0 2px 8px var(--bayangan);
            transition-duration: 0.1s;
        }

        .option-card svg {
            width: 40px;
            height: 40px;
            color: var(--warna-merah);
            transition: color 0.3s ease;
        }

        .option-card span {
            font-size: 1rem;
            font-weight: 500;
        }

        .option-card.selected {
            border-color: var(--warna-merah);
            background-color: color-mix(in srgb, var(--warna-merah) 5%, var(--latar-elemen));
            box-shadow: 0 0 0 3px color-mix(in srgb, var(--warna-merah) 20%, transparent);
        }

        /* Penyesuaian responsif untuk card opsi di layar kecil */
        @media (max-width: 480px) {
            .option-card {
                padding: 1rem 0.75rem; /* Kurangi padding agar lebih compact */
            }
        }

        /* Styling untuk Opsi Pesanan (Makan di Tempat / Bungkus) */
        .opsi-pesanan-container {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        /* Sembunyikan radio button asli */
        .opsi-pesanan-container input[type="radio"] {
            display: none;
        }

        /* Form Pemesanan */
        #form-pesan-online {
            background-color: var(--latar-elemen);
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 4px 15px var(--bayangan);
            text-align: left;
            max-width: 800px;
            margin: 2rem auto 0;
        }

        .form-grup {
            margin-bottom: 1.5rem;
        }

        .form-grup label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        /* Memberi jarak dan penekanan pada judul "Pilih Menu Anda" */
        .form-grup:has(.menu-pilihan) > label {
            margin-top: 2.5rem;
            margin-bottom: 1rem;
            font-size: 1.2rem;
            font-weight: bold;
        }

        .form-grup input,
        .form-grup textarea,
        .form-grup select {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--border-warna);
            border-radius: 5px;
            font-family: var(--font-isi);
            font-size: 1rem;
            box-sizing: border-box;
            background-color: var(--latar-belakang);
            color: var(--warna-dasar);
        }

        .menu-pilihan {
            display: flex;
            flex-direction: column;
            gap: 2.5rem; /* Jarak antar grup kategori */
        }

        .form-menu-kategori {
            /* Menghapus gaya 'card' yang berlebihan agar menyatu dengan form utama */
            background: none;
            padding: 0;
            border: none; /* Hapus border default fieldset */
            margin: 0; /* Reset margin default fieldset */
        }

        .form-menu-kategori legend {
            font-family: var(--font-judul);
            font-size: 1.8rem;
            color: var(--warna-merah);
            /* Hapus properti yang merusak layout fieldset */
            width: auto;
            padding-left: 0;
            margin-bottom: 0.5rem; /* Jarak dari judul ke garis pemisah */
        }

        .form-menu-items-grid {
            display: grid;
            /* Membuat kolom responsif yang rapi dan modern */
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 0.5rem 2rem; /* Jarak vertikal dan horizontal antar item */
            /* Pindahkan garis pemisah ke sini agar tidak merusak layout */
            border-top: 2px solid var(--warna-kuning);
            padding-top: 1rem; /* Jarak dari garis pemisah ke item menu */
        }

        .item-pilihan {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 0.5rem 0;
            border-bottom: 1px dashed var(--border-warna);
        }

        /* Membuat label mengisi ruang agar input jumlah rata kanan */
        .item-pilihan label {
            flex-grow: 1;
        }

        .item-pilihan input[type="checkbox"] {
            width: auto;
        }

        .item-pilihan input[type="number"] {
            width: 60px;
            display: none;
        }

        .tombol-kirim {
            width: 100%;
            border: none;
            cursor: pointer;
        }

        /* Map Section */
        .map-container {
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 15px var(--bayangan);
            margin-top: 2.5rem;
            height: 400px;
        }

        .map-container iframe {
            width: 100%;
            height: 100%;
            border: 0;
        }

        body.dark-mode .map-container iframe {
            filter: invert(90%) hue-rotate(180deg);
        }

        /* Status Restoran */
        #status-restoran.buka {
            color: var(--warna-hijau);
            font-weight: bold;
        }
        #status-restoran.tutup {
            color: var(--warna-merah);
            font-weight: bold;
        }

        /* Floating WhatsApp Button */
        .whatsapp-floating-btn {
            position: fixed;
            bottom: 25px;
            right: 25px;
            background-color: #25D366; /* Official WhatsApp Green */
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            z-index: 1001; /* Higher than header */
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275), box-shadow 0.3s ease;
        }

        .whatsapp-floating-btn:hover {
            transform: scale(1.1) rotate(10deg);
            box-shadow: 0 6px 16px rgba(0,0,0,0.3);
        }

        .whatsapp-floating-btn:active {
            transform: scale(1.0) rotate(0deg);
            transition-duration: 0.1s;
        }

        .whatsapp-floating-btn svg {
            width: 32px;
            height: 32px;
            fill: white;
        }

        /* Testimoni Section */
        #testimoni {
            background-color: var(--latar-alternatif);
        }

        .testimoni-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
            text-align: left;
        }

        .testimoni-card {
            background: var(--latar-elemen);
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 4px 15px color-mix(in srgb, var(--bayangan) 70%, transparent);
            display: flex;
            flex-direction: column;
        }

        .rating {
            font-size: 1.5rem;
            color: var(--warna-kuning);
            margin-bottom: 1rem;
        }

        .testimoni-teks {
            font-style: italic;
            color: var(--warna-sekunder);
            flex-grow: 1;
            margin: 0 0 1rem 0;
        }

        .testimoni-penulis {
            font-weight: bold;
            color: var(--warna-dasar);
            text-align: right;
            margin: 0;
        }

        /* Footer */
        .footer {
            background-color: var(--latar-alternatif);
            color: var(--warna-dasar);
            text-align: center;
            padding: 2rem;
        }

        body.dark-mode .footer {
            background-color: var(--latar-elemen);
            color: var(--warna-dasar);
        }

        .footer p {
            margin: 0;
        }

        .tombol-saran {
            display: inline-block;
            margin-top: 1.5rem;
            padding: 10px 20px;
            background-color: var(--warna-kuning);
            color: var(--warna-dasar);
            text-decoration: none;
            border-radius: 5px;
            font-weight: 500;
            transition: background-color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
        }

        .tombol-saran:hover {
            background-color: #d4ac0d; /* Kuning lebih gelap */
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .tombol-saran:active {
            transform: translateY(0);
            box-shadow: none;
        }

        .payment-qr-container {
            text-align: center;
            margin: 1.5rem 0;
            padding: 1.5rem;
            border: 1px dashed var(--border-warna);
            border-radius: 8px;
            background-color: var(--latar-alternatif);
        }

        .qr-code-img {
            max-width: 250px;
            width: 100%;
            height: auto;
            margin-bottom: 1rem;
            border-radius: 5px;
        }

        /* Custom styling for fake file input button */
        .tombol-file-custom {
            display: inline-block;
            margin-right: 1rem;
            border: 1px solid var(--border-warna);
            padding: 10px 15px;
            border-radius: 5px;
            background-color: var(--latar-elemen);
            color: var(--warna-dasar);
            cursor: pointer;
            font-weight: 500;
            transition: background-color 0.3s;
        }

        .tombol-file-custom:hover {
            background-color: var(--latar-alternatif);
        }

        .nama-file {
            color: var(--warna-sekunder);
            font-style: italic;
        }

        .form-grup small {
            display: block;
            margin-top: 0.5rem;
            font-size: 0.9rem;
            color: var(--warna-sekunder);
        }

        /* Animasi saat scroll */
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(20px); /* Disesuaikan agar lebih halus & konsisten */
            /* Menggunakan variabel untuk delay agar lebih fleksibel dan andal */
            transition: opacity 0.6s ease-out var(--animation-delay, 0s), transform 0.6s ease-out var(--animation-delay, 0s);
        }

        .animate-on-scroll.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body>

    <header class="header">
        <a href="#hero" class="logo">
            <!-- GANTI URL DI BAWAH DENGAN PATH FILE LOGO ANDA -->
            <!-- Contoh: <img src="images/logo.png" alt="Logo Setia Rasa"> -->
            <img src="setiarasa-logo-removebg-preview.png" alt="Logo Rumah Makan Setia Rasa">
            <span>Setia Rasa</span>
        </a>
        <nav class="navigasi">
            <a href="#hero" class="active">
                <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" /></svg>
                <span>Beranda</span>
            </a>
            <a href="#menu">
                <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25" /></svg>
                <span>Menu</span>
            </a>
            <a href="#tentang">
                <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 01-2.25 2.25M16.5 7.5V18a2.25 2.25 0 002.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 002.25 2.25h13.5M6 7.5h3v3H6v-3z" /></svg>
                <span>Tentang Kami</span>
            </a>
            <a href="#testimoni">
                <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.31h5.417c.512 0 .727.662.344 1.002l-4.28 3.301a.563.563 0 00-.182.658l1.54 5.571c.154.561-.41.999-.91.658l-4.4-3.182a.563.563 0 00-.652 0l-4.4 3.182c-.5.341-1.065-.097-.91-.658l1.54-5.571a.563.563 0 00-.182-.658l-4.28-3.301c-.383-.34-.168-1.002.344-1.002h5.417a.563.563 0 00.475-.31L11.48 3.5z" /></svg>
                <span>Testimoni</span>
            </a>
            <a href="#kontak">
                <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z" /></svg>
                <span>Kontak</span>
            </a>
            <a href="#pesan-online" class="tombol-pesan-nav">
                <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c.51 0 .962-.343 1.087-.835l1.823-6.841c.125-.468-.098-.959-.57-1.134l-9.426-3.771c-.473-.188-1.026.02-1.214.492L5.51 12.43M7.5 14.25L5.106 5.165" /></svg>
                <span>Pesan Online</span>
            </a>
        </nav>
        <div class="header-controls">
            <div class="theme-switcher">
                <input type="checkbox" id="theme-toggle">
                <label for="theme-toggle">
                    <div class="thumb"></div>
                </label>
            </div>
            <button class="hamburger-menu" aria-label="Buka menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </header>

    <section id="hero" class="hero">
        <div class="hero-content">
            <h1 id="animated-title">Selamat Datang di Rumah Makan Setia Rasa</h1>
            <p>"Setia Karena Rasa" - Menyajikan hidangan otentik dengan resep turun-temurun yang penuh cinta.</p>
            <a href="#menu" class="tombol-cta">Lihat Menu Spesial</a>
        </div>
    </section>

    <main>
        <section id="menu" class="container">
            <h2 class="judul-section animate-on-scroll">Menu Lengkap Kami</h2>
            <p class="deskripsi-section animate-on-scroll">Setiap hidangan kami dibuat dari bahan-bahan segar pilihan untuk menjamin kualitas dan kepuasan Anda.</p>
            <div class="menu-grid">
                <!-- Menu akan di-generate oleh JavaScript -->
            </div>
        </section>

        <section id="tentang" class="container">
            <h2 class="judul-section animate-on-scroll">Cerita Kami</h2>
            <p class="deskripsi-section animate-on-scroll" style="--animation-delay: 100ms;">Setia Rasa hadir dari cinta pada masakan rumahan. Kami percaya, rasa terbaik lahir dari bahan segar dan ketulusan. Dari dulu hingga nanti, kami setia menyajikan cita rasa yang membuat Anda kembali lagi</p>
        </section>

        <section id="testimoni" class="container">
            <h2 class="judul-section animate-on-scroll">Kata Mereka</h2>
            <p class="deskripsi-section animate-on-scroll" style="--animation-delay: 100ms;">Lihat apa kata pelanggan setia kami tentang hidangan dan pelayanan di Setia Rasa.</p>
            <div class="testimoni-grid">
                <div class="testimoni-card animate-on-scroll">
                    <div class="rating">★★★★★</div>
                    <p class="testimoni-teks">"Nasi gorengnya juara! Bumbunya pas, porsinya ngenyangin. Selalu jadi pilihan utama kalau lagi lapar malam-malam. Recommended!"</p>
                    <p class="testimoni-penulis">- Budi Santoso</p>
                </div>
                <div class="testimoni-card animate-on-scroll" style="--animation-delay: 150ms;">
                    <div class="rating">★★★★★</div>
                    <p class="testimoni-teks">"Ayam kremesnya renyah banget, sambelnya juga mantap pedasnya. Pelayanannya cepat dan ramah. Pasti balik lagi!"</p>
                    <p class="testimoni-penulis">- Siti Aminah</p>
                </div>
                <div class="testimoni-card animate-on-scroll" style="--animation-delay: 300ms;">
                    <div class="rating">★★★★☆</div>
                    <p class="testimoni-teks">"Tempatnya sederhana tapi masakannya luar biasa. Sop nya enak banget dan kuahnya seger. Harganya juga sangat terjangkau."</p>
                    <p class="testimoni-penulis">- Eko Prasetyo</p>
                </div>
            </div>
        </section>

        <section id="kontak" class="container">
            <h2 class="judul-section animate-on-scroll">Kunjungi Kami</h2>
            <p class="deskripsi-section animate-on-scroll" style="--animation-delay: 100ms;">Kami tunggu kedatangan Anda untuk mencicipi langsung kelezatan menu kami. Pesan antar juga tersedia!</p>
            <p class="animate-on-scroll" style="--animation-delay: 200ms;"><strong>Alamat:</strong> Perumahan Taman Batu Aji Indah 2, Blok N No. 28, Sagulung, Kota Batam, Kepulauan Riau 29444</p>
            <p class="animate-on-scroll" style="--animation-delay: 300ms;"><strong>WhatsApp:</strong> 0857-6757-1976</p>
            <p class="animate-on-scroll" style="--animation-delay: 400ms;"><strong>Jam Buka:</strong> Setiap Hari, 16:00 - 00:00</p>

            <div class="map-container animate-on-scroll" style="--animation-delay: 500ms;">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3989.1550423712315!2d103.94229!3d1.044756!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31d98d6b6a25f7ed%3A0x99b387a20aab3153!2sSpesial%20Nasi%20Goreng%20Setia%20Rasa!5e0!3m2!1sid!2sid!4v1721378130386!5m2!1sid!2sid" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>
        </section>

        <section id="pesan-online" class="container">
            <h2 class="judul-section animate-on-scroll">Pesan Online</h2>
            <p class="deskripsi-section animate-on-scroll">Isi formulir di bawah ini untuk memesan hidangan favorit Anda. Kami akan segera menyiapkan pesanan Anda.</p>

            <form id="form-pesan-online" class="animate-on-scroll">
                <div class="form-grup">
                    <label for="nama">Nama Lengkap</label>
                    <input type="text" id="nama" name="nama" placeholder="Masukkan nama Anda" required>
                </div>
                <div class="form-grup">
                    <label for="telepon">Nomor WhatsApp</label>
                    <input type="tel" id="telepon" name="telepon" placeholder="Contoh: 081234567890" required>
                </div>
                <div class="form-grup" id="alamat-grup">
                    <label for="alamat">Alamat Pengiriman</label>
                    <textarea id="alamat" name="alamat" rows="3" placeholder="Masukkan alamat lengkap Anda" required></textarea>
                </div>
                <div class="form-grup" id="nomor-meja-grup">
                    <label for="nomor-meja">Pilih Nomor Meja</label>
                    <select id="nomor-meja" name="nomor-meja">
                        <option value="" disabled selected>-- Pilih Meja --</option>
                        <option value="Meja 1">Meja 1</option>
                        <option value="Meja 2">Meja 2</option>
                        <option value="Meja 3">Meja 3</option>
                        <option value="Meja 4">Meja 4</option>
                        <option value="Meja 5">Meja 5</option>
                        <option value="Meja 6">Meja 6</option>
                        <option value="Meja 7">Meja 7</option>
                        <option value="Meja 8">Meja 8</option>
                        <option value="Meja 9">Meja 9</option>
                        <option value="Meja 10">Meja 10</option>
                        <option value="Meja 11">Meja 11</option>
                        <option value="Meja 12">Meja 12</option>
                        <option value="Meja 13">Meja 13</option>
                        <option value="Meja 14">Meja 14</option>
                        <option value="Meja 15">Meja 15</option>
                        <option value="Meja 16">Meja 16</option>
                        <option value="Meja 17">Meja 17</option>
                        <option value="Meja 18">Meja 18</option>
                        <option value="Meja 19">Meja 19</option>
                        <option value="Meja 20">Meja 20</option>
                    </select>
                </div>
                <div class="form-grup">
                    <label>Opsi Pesanan</label>
                    <div class="options-grid" id="order-options-container">
                        <!-- 1. Dine In -->
                        <div class="option-card" data-option="Makan di Tempat">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.5 13.5L18 15l-1.5 1.5" /></svg>
                            <span>Makan di Tempat</span>
                        </div>
                        <!-- 3. Pick Up -->
                        <div class="option-card" data-option="Pick Up">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" /></svg>
                            <span>Ambil Sendiri (Pick Up)</span>
                        </div>
                        <!-- 4. Delivery -->
                        <div class="option-card" data-option="Delivery">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.125-.504 1.125-1.125V14.25m-17.25 4.5v-1.875a3.375 3.375 0 013.375-3.375h9.75a3.375 3.375 0 013.375 3.375v1.875m-17.25 4.5h-2.25" /></svg>
                            <span>Antar ke Alamat (Delivery)</span>
                        </div>
                    </div>
                    <!-- Input tersembunyi untuk menyimpan nilai yang dipilih -->
                    <input type="hidden" id="opsi-pesanan-terpilih" name="opsi-pesanan" value="">
                </div>

                <div class="form-grup">
                    <label>Pilih Menu Anda</label>
                    <div class="filter-controls">
                        <input type="search" id="menu-search-input" placeholder="Cari nama menu...">
                        <div id="category-filters" class="category-filters">
                            <!-- Tombol filter akan di-generate oleh JavaScript -->
                        </div>
                    </div>
                    <div class="menu-pilihan">
                        <!-- Pilihan menu akan di-generate oleh JavaScript -->
                    </div>
                </div>

                <div class="form-grup">
                    <label for="catatan">Catatan Tambahan</label>
                    <textarea id="catatan" name="catatan" rows="2" placeholder="Contoh: Nasi goreng tidak pedas"></textarea>
                </div>

                <div class="form-grup" style="text-align: right; font-size: 1.5rem; font-weight: bold; margin-top: 2rem; color: var(--warna-hijau);">
                    Total: <span id="total-harga">Rp 0</span>
                </div>

                <div class="form-grup">
                    <label>Langkah 2: Pembayaran</label>
                    <p>Silahkan lakukan pembayaran ke QRIS di bawah ini. Setelah itu, klik tombol di bawah untuk mengirim detail pesanan dan konfirmasi pembayaran melalui WhatsApp agar pesanan anda segera di proses.</p>
                    <div class="payment-qr-container">
                        <!-- Canvas untuk menggabungkan QRIS dan Logo -->
                        <canvas id="qris-canvas" style="max-width: 250px; width: 100%; height: auto; border-radius: 5px;"></canvas>
                        <p><strong>Atas Nama:</strong> SETIA RASA</p>
                        <!-- Tombol untuk mengunduh gambar dari canvas -->
                        <a href="#" id="download-qris-btn" class="tombol-saran" style="margin-top: 1rem; text-decoration: none;">
                            Download QRIS
                        </a>
                    </div>
                </div>

                <button type="submit" class="tombol-cta tombol-kirim">
                    Konfirmasi & Kirim Pesanan via WhatsApp
                </button>
            </form>
        </section>
    </main>

    <a href="https://wa.me/6285767571976" id="whatsapp-floating-btn" class="whatsapp-floating-btn" aria-label="Pesan via WhatsApp" target="_blank">
        <svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
            <path d="M13.601 2.326A7.85 7.85 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.9 7.9 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.9 7.9 0 0 0 13.6 2.326zM7.994 14.521a6.6 6.6 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.56 6.56 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592m3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.73.73 0 0 0-.529.247c-.182.198-.691.677-.691 1.654s.71 1.916.81 2.049c.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232"/>
        </svg>
    </a>

    <footer class="footer">
        <p>&copy; 2025 Rumah Makan Setia Rasa. Dibuat dengan ❤️.</p>
        <a href="https://wa.me/6285767571976?text=Halo%20Setia%20Rasa%2C%20saya%20ingin%20memberikan%20saran%2Fkritik."
           class="tombol-saran"
           target="_blank">
            Beri Saran & Kritik
        </a>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // --- Animasi Judul Mewah (Letter by Letter) ---
        const animatedTitle = document.getElementById('animated-title');
        if (animatedTitle) {
            const originalText = animatedTitle.textContent.trim();
            const words = originalText.split(' '); // Pecah teks menjadi kata-kata
            animatedTitle.innerHTML = ''; // Kosongkan judul asli

            let letterIndex = 0; // Indeks global untuk delay animasi

            words.forEach((word, index) => {
                const wordWrapper = document.createElement('span');
                wordWrapper.className = 'word'; // Bungkus setiap kata agar tidak pecah

                // Pecah setiap kata menjadi huruf untuk dianimasikan
                word.split('').forEach(letter => {
                    const letterSpan = document.createElement('span');
                    letterSpan.className = 'letter';
                    letterSpan.textContent = letter;
                    letterSpan.style.animationDelay = `${letterIndex * 0.04}s`;
                    wordWrapper.appendChild(letterSpan);
                    letterIndex++;
                });

                animatedTitle.appendChild(wordWrapper);

                // Tambahkan spasi biasa setelah setiap kata, kecuali yang terakhir
                if (index < words.length - 1) {
                    animatedTitle.appendChild(document.createTextNode(' '));
                }
            });
        }

        // --- Konfigurasi ---
        const NOMOR_WHATSAPP = '6285767571976'; // Ganti dengan nomor WhatsApp tujuan

        // --- Cek Status Restoran ---
        const statusEl = document.getElementById('status-restoran');
        if (statusEl) {
            const jamBuka = 16; // Jam 4 sore
            // Jam tutup adalah 00:00, artinya restoran buka dari jam 16:00 hingga 23:59.
            
            const sekarang = new Date();
            const jamSekarang = sekarang.getHours();

            if (jamSekarang >= jamBuka) { // Buka jika jam sekarang 16, 17, ..., 23
                statusEl.textContent = '✅ Buka sekarang';
                statusEl.classList.add('buka');
            } else { // Tutup jika jam sekarang 0, 1, ..., 15
                statusEl.textContent = `❌ Tutup, buka lagi jam ${jamBuka}:00`;
                statusEl.classList.add('tutup');
            }
        }

        // --- Data Menu (Nama & Harga) ---
        // Anda bisa mengubah harga di sini
        const menuData = {
            "AYAM & BEBEK": [
                { name: "Bebek Goreng", price: 26000 }, { name: "Bebek Goreng + Nasi", price: 32000 },
                { name: "Bebek Cabe Ijo", price: 26000 }, { name: "Bebek Cabe Ijo + Nasi", price: 32000 },
                { name: "Bebek Cabe Merah", price: 26000 }, { name: "Bebek Cabe Merah + Nasi", price: 32000 },
                { name: "Ayam Kremes", price: 14000 }, { name: "Ayam Kremes + Nasi", price: 20000 },
                { name: "Ayam Cabe Ijo", price: 14000 }, { name: "Ayam Cabe Ijo + Nasi", price: 20000 },
                { name: "Ayam Geprek", price: 14000 }, { name: "Ayam Geprek + Nasi", price: 20000 },
                { name: "Ayam Penyet Kremes", price: 18000 }, { name: "Ayam Penyet Kremes + Nasi", price: 24000 },
                { name: "Ayam Penyet Cabe Ijo", price: 18000 }, { name: "Ayam Penyet Cabe Ijo + Nasi", price: 24000 },
                { name: "Ayam Penyet Cabe Merah", price: 18000 }, { name: "Ayam Penyet Cabe Merah + Nasi", price: 24000 },
            ],
            "IKAN & LAINNYA": [
                { name: "Pecel Lele", price: 15000 }, { name: "Pecel Lele + Nasi", price: 20000 },
                { name: "Lele Cabe Ijo", price: 16000 }, { name: "Lele Cabe Ijo + Nasi", price: 22000 },
                { name: "Lele Cabe Merah", price: 16000 }, { name: "Lele Cabe Merah + Nasi", price: 22000 },
                { name: "3T (Telur, Tahu, Tempe)", price: 14000 }, { name: "3T + Nasi", price: 20000 },
                { name: "Udang Goreng Tepung", price: 30000 }, { name: "Sotong Goreng Tepung", price: 30000 },
            ],
            "NASI GORENG": [
                { name: "Nasi Putih", price: 6000 },
                { name: "Nasgor Biasa", price: 16000 },
                { name: "Nasgor Biasa + Telur", price: 20000 },
                { name: "Nasgor Kampung", price: 18000 },
                { name: "Nasgor Kampung + Telur", price: 22000 },
                { name: "Nasgor Kampung + Ikan Teri", price: 25000 },
                { name: "Nasgor Kampung + Seafood", price: 28000 },
                { name: "Nasgor Pedas + Telur", price: 20000 },
                { name: "Nasgor Mie", price: 18000 }, { name: "Nasgor Mie + Telur", price: 22000 },
                { name: "Nasgor Semrawut", price: 18000 }, { name: "Nasgor Semrawut + Telur", price: 22000 },
                { name: "Nasgor Seafood + Telur", price: 30000 },
                { name: "Nasgor + Bakso", price: 22000 }, { name: "Nasgor + Sosis", price: 22000 },
                { name: "Nasgor + Ayam Goreng", price: 26000 }, { name: "Nasgor + Sayuran", price: 18000 },
            ],
            "MIE, KWETIAU, BIHUN": [
                { name: "Mie Goreng", price: 16000 }, { name: "Mie Goreng + Telur", price: 20000 },
                { name: "Mie Goreng Nyemek", price: 16000 }, { name: "Mie Goreng Nyemek + Telur", price: 20000 },
                { name: "Mie Rebus", price: 16000 }, { name: "Mie Rebus + Telur", price: 20000 },
                { name: "Kwetio Goreng", price: 17000 }, { name: "Kwetio Goreng + Telur", price: 21000 },
                { name: "Kwetio Nyemek", price: 17000 }, { name: "Kwetio Nyemek + Telur", price: 21000 },
                { name: "Kwetio Rebus", price: 17000 }, { name: "Kwetio Rebus + Telur", price: 21000 },
                { name: "Bihun Goreng", price: 16000 }, { name: "Bihun Goreng + Telur", price: 20000 },
                { name: "Bihun Nyemek", price: 16000 }, { name: "Bihun Nyemek + Telur", price: 20000 },
                { name: "Bihun Rebus", price: 16000 }, { name: "Bihun Rebus + Telur", price: 20000 },
            ],
            "SAYUR & SOP": [
                { name: "Cah Kangkung", price: 12000 }, { name: "Capcay", price: 20000 },
                { name: "Capcay + Ayam", price: 28000 }, { name: "Capcay + Seafood", price: 30000 },
                { name: "Soup Ayam", price: 25000 }, { name: "Soup Tulang", price: 30000 },
                { name: "Soup Telur", price: 20000 }, { name: "Soup Sayur", price: 20000 },
            ],
            "MINUMAN": [
                { name: "Teh O", price: 5000 }, { name: "Teh Obeng", price: 5000 },
                { name: "Kopi O", price: 6000 }, { name: "Es Jeruk", price: 8000 },
                { name: "Jeruk Hangat", price: 8000 }, { name: "Milo Es", price: 8000 },
                { name: "Milo Hangat", price: 8000 }, { name: "Aneka Juice", price: 12000 },
                { name: "Es Sirup", price: 6000 }, { name: "Nutri Sari", price: 8000 },
            ]
        };

        // --- Generate Menu Display & Order Form ---
        const menuGrid = document.querySelector('.menu-grid');
        const menuPilihan = document.querySelector('.menu-pilihan');
        let itemIdCounter = 1;

        for (const kategori in menuData) {
            const kategoriDiv = document.createElement('div');
            kategoriDiv.className = 'menu-kategori animate-on-scroll';
            const kategoriJudul = document.createElement('h3');
            kategoriJudul.textContent = kategori;
            const ul = document.createElement('ul');

            // Membuat fieldset untuk setiap kategori di form pemesanan
            const formKategoriFieldset = document.createElement('fieldset');
            formKategoriFieldset.className = 'form-menu-kategori';
            const formKategoriLegend = document.createElement('legend');
            formKategoriLegend.textContent = kategori;
            formKategoriFieldset.appendChild(formKategoriLegend);

            // Membuat container untuk item-item di dalam fieldset
            const itemsContainer = document.createElement('div');
            itemsContainer.className = 'form-menu-items-grid';

            menuData[kategori].forEach(item => {
                // Generate item untuk tampilan menu utama
                const li = document.createElement('li');
                li.textContent = `${item.name} - Rp ${item.price.toLocaleString('id-ID')}`;
                ul.appendChild(li);

                // Generate item untuk form pemesanan
                const itemPilihanDiv = document.createElement('div');
                itemPilihanDiv.className = 'item-pilihan';
                const uniqueId = `item${itemIdCounter++}`;
                itemPilihanDiv.innerHTML = `
                    <input type="checkbox" id="${uniqueId}" value="${item.name}" data-price="${item.price}">
                    <label for="${uniqueId}">${item.name}</label>
                    <input type="number" min="1" value="1" style="display: none;">
                `;
                itemsContainer.appendChild(itemPilihanDiv);
            });

            kategoriDiv.appendChild(kategoriJudul);
            kategoriDiv.appendChild(ul);
            menuGrid.appendChild(kategoriDiv);

            formKategoriFieldset.appendChild(itemsContainer);
            menuPilihan.appendChild(formKategoriFieldset);
        }

        // --- Menu Search & Filter Logic ---
        const searchInput = document.getElementById('menu-search-input');
        const categoryFiltersContainer = document.getElementById('category-filters');
        const allMenuCategories = document.querySelectorAll('.form-menu-kategori');

        // 1. Generate Filter Buttons
        const categories = ['Semua', ...Object.keys(menuData)];
        categories.forEach(category => {
            const btn = document.createElement('button');
            btn.type = 'button'; // Mencegah form terkirim saat diklik
            btn.className = 'filter-btn';
            btn.textContent = category;
            btn.dataset.category = category;
            if (category === 'Semua') {
                btn.classList.add('active');
            }
            categoryFiltersContainer.appendChild(btn);
        });

        // 2. The Filter Function
        function filterMenu() {
            const searchTerm = searchInput.value.toLowerCase().trim();
            const activeCategory = categoryFiltersContainer.querySelector('.filter-btn.active').dataset.category;

            allMenuCategories.forEach(kategoriDiv => {
                const kategoriName = kategoriDiv.querySelector('legend').textContent;
                let isCategoryVisible = false;

                const categoryMatchesFilter = (activeCategory === 'Semua' || kategoriName === activeCategory);
                
                if (!categoryMatchesFilter) {
                    kategoriDiv.style.display = 'none';
                    return;
                }

                const items = kategoriDiv.querySelectorAll('.item-pilihan');
                items.forEach(item => {
                    const itemName = item.querySelector('label').textContent.toLowerCase();
                    const itemMatchesSearch = itemName.includes(searchTerm);

                    if (itemMatchesSearch) {
                        item.style.display = 'flex';
                        isCategoryVisible = true;
                    } else {
                        item.style.display = 'none';
                    }
                });
                kategoriDiv.style.display = isCategoryVisible ? 'block' : 'none';
            });
        }

        // 3. Add Event Listeners
        searchInput.addEventListener('input', filterMenu);
        categoryFiltersContainer.addEventListener('click', function(e) {
            if (e.target.classList.contains('filter-btn')) {
                categoryFiltersContainer.querySelector('.filter-btn.active').classList.remove('active');
                e.target.classList.add('active');
                filterMenu();
            }
        });

        // --- Dark/Light Mode Toggle ---
        const themeToggle = document.getElementById('theme-toggle');
        const body = document.body;

        // Function to apply theme
        const applyTheme = (theme) => {
            if (theme === 'dark') {
                body.classList.add('dark-mode');
                themeToggle.checked = true;
            } else {
                body.classList.remove('dark-mode');
                themeToggle.checked = false;
            }
        };

        // Check for saved theme in localStorage
        const savedTheme = localStorage.getItem('theme');
        // Check for system preference
        const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        // Apply saved theme or system preference, default to light
        applyTheme(savedTheme || (prefersDark ? 'dark' : 'light'));

        themeToggle.addEventListener('change', () => {
            const newTheme = themeToggle.checked ? 'dark' : 'light';
            localStorage.setItem('theme', newTheme);
            applyTheme(newTheme);
        });

        // --- Hamburger Menu Logic ---
        const hamburger = document.querySelector('.hamburger-menu');
        const navMenu = document.querySelector('.navigasi');
        hamburger.addEventListener('click', () => {
            hamburger.classList.toggle('open');
            navMenu.classList.toggle('open');
            document.body.classList.toggle('no-scroll');
        });
        document.querySelectorAll('.navigasi a').forEach(link => {
            link.addEventListener('click', () => {
                hamburger.classList.remove('open');
                navMenu.classList.remove('open');
                document.body.classList.remove('no-scroll');
            });
        });

        // --- Total Calculation Logic ---
        const totalHargaEl = document.getElementById('total-harga');
        function calculateTotal() {
            let total = 0;
            const checkedItems = document.querySelectorAll('.item-pilihan input[type="checkbox"]:checked');
            checkedItems.forEach(item => {
                const price = parseFloat(item.dataset.price);
                const quantity = parseInt(item.parentElement.querySelector('input[type="number"]').value) || 1;
                total += price * quantity;
            });
            totalHargaEl.textContent = `Rp ${total.toLocaleString('id-ID')}`;
        }

        // --- Event Listeners for Form ---
        menuPilihan.addEventListener('change', function(e) {
            if (e.target.type === 'checkbox') {
                const inputJumlah = e.target.parentElement.querySelector('input[type="number"]');
                inputJumlah.style.display = e.target.checked ? 'inline-block' : 'none';
                if (!e.target.checked) { inputJumlah.value = 1; } // Reset jumlah jika di-uncheck
                calculateTotal();
            }
        });
        menuPilihan.addEventListener('input', function(e) {
            if (e.target.type === 'number') {
                calculateTotal();
            }
        });

        // --- Logika untuk Opsi Pesanan (Card System) ---
        const orderOptionsContainer = document.getElementById('order-options-container');
        const alamatGrup = document.getElementById('alamat-grup');
        const alamatTextarea = document.getElementById('alamat');
        const nomorMejaGrup = document.getElementById('nomor-meja-grup');
        const nomorMejaSelect = document.getElementById('nomor-meja');
        const hiddenOrderOptionInput = document.getElementById('opsi-pesanan-terpilih');

        // Atur keadaan awal: sembunyikan semua field opsional
        alamatGrup.style.display = 'none';
        alamatTextarea.required = false;
        nomorMejaGrup.style.display = 'none';
        nomorMejaSelect.required = false;

        orderOptionsContainer.addEventListener('click', function(e) {
            const clickedCard = e.target.closest('.option-card');
            if (!clickedCard) return;

            const selectedOption = clickedCard.dataset.option;
            const allOptionCards = orderOptionsContainer.querySelectorAll('.option-card');

            // Reset semua field opsional sebelum menampilkan yang baru
            alamatGrup.style.display = 'none';
            alamatTextarea.required = false;
            nomorMejaGrup.style.display = 'none';
            nomorMejaSelect.required = false;

            allOptionCards.forEach(card => card.classList.remove('selected'));
            clickedCard.classList.add('selected');

            hiddenOrderOptionInput.value = selectedOption;

            if (selectedOption === 'Delivery') {
                alamatGrup.style.display = 'block';
                alamatTextarea.required = true;
            } else if (selectedOption === 'Makan di Tempat') {
                nomorMejaGrup.style.display = 'block';
                nomorMejaSelect.required = true;
            }
        });

        // --- Form Submission to WhatsApp ---
        const orderForm = document.getElementById('form-pesan-online');
        orderForm.addEventListener('submit', function(event) {
            event.preventDefault();
            
            const nama = document.getElementById('nama').value;
            const telepon = document.getElementById('telepon').value;
            const opsiPesanan = document.getElementById('opsi-pesanan-terpilih').value;
            const alamat = document.getElementById('alamat').value;
            const nomorMeja = document.getElementById('nomor-meja').value;
            const catatan = document.getElementById('catatan').value;
            const totalHarga = document.getElementById('total-harga').textContent;

            if (!opsiPesanan) {
                alert('Silakan pilih salah satu Opsi Pesanan terlebih dahulu.');
                orderOptionsContainer.scrollIntoView({ behavior: 'smooth', block: 'center' });
                return;
            }

            let pesanan = '';
            const itemsPilihan = document.querySelectorAll('.item-pilihan input[type="checkbox"]:checked');

            if (itemsPilihan.length === 0) {
                alert('Anda belum memilih menu apapun. Silakan pilih minimal satu menu.');
                document.querySelector('.menu-pilihan').scrollIntoView({ behavior: 'smooth', block: 'center' });
                return;
            }

            itemsPilihan.forEach(item => {
                const jumlah = item.parentElement.querySelector('input[type="number"]').value;
                pesanan += `- ${item.value} (x${jumlah})\n`;
            });
            
            let pesanWhatsApp = `
Halo *Rumah Makan Setia Rasa*, saya ingin konfirmasi pesanan:

*Nama:* ${nama}
*No. HP:* ${telepon}
*Opsi Pesanan:* ${opsiPesanan}
`;
            if (opsiPesanan === 'Delivery') {
                pesanWhatsApp += `*Alamat:* ${alamat}\n`;
            } else if (opsiPesanan === 'Makan di Tempat') {
                pesanWhatsApp += `*Nomor Meja:* ${nomorMeja}\n`;
            }
            pesanWhatsApp += `
*Pesanan:*
${pesanan}
*Catatan:* ${catatan || '-'}
*==========================*
*Total Pembayaran:* ${totalHarga}

Pembayaran sudah dilakukan. *Saya akan segera mengirimkan bukti transfer di chat ini.* Mohon segera diproses. Terima kasih!`;

            const urlWhatsApp = `https://wa.me/${NOMOR_WHATSAPP}?text=${encodeURIComponent(pesanWhatsApp.trim())}`;
            window.open(urlWhatsApp, '_blank');
        });

        // --- Generate QRIS with Logo on Canvas ---
        const canvas = document.getElementById('qris-canvas');
        const downloadBtn = document.getElementById('download-qris-btn');

        // Pastikan elemen canvas dan tombol ada sebelum melanjutkan
        if (canvas && downloadBtn) {
            const ctx = canvas.getContext('2d');
            
            const qrisImgSrc = 'qris-setiarasa.jpeg'; // Pastikan path ini benar
            const logoImgSrc = 'setiarasa-logo-removebg-preview.png'; // Pastikan path ini benar

            const qrisImage = new Image();
            const logoImage = new Image();

            // Mengatasi potensi masalah CORS (meskipun file lokal, ini praktik yang baik)
            qrisImage.crossOrigin = "Anonymous";
            logoImage.crossOrigin = "Anonymous";

            // Fungsi untuk memuat gambar sebagai Promise
            const loadImage = (img, src) => {
                return new Promise((resolve, reject) => {
                    img.onload = () => resolve(img);
                    img.onerror = () => reject(new Error(`Gagal memuat gambar: ${src}`));
                    img.src = src;
                });
            };

            Promise.all([loadImage(qrisImage, qrisImgSrc), loadImage(logoImage, logoImgSrc)])
                .then(() => {
                    const canvasSize = 500; // Resolusi tinggi untuk kualitas
                    canvas.width = canvasSize;
                    canvas.height = canvasSize;

                    // 1. Gambar QRIS sebagai latar belakang
                    ctx.drawImage(qrisImage, 0, 0, canvasSize, canvasSize);

                    // 2. Hitung ukuran dan posisi logo
                    const logoSize = canvasSize * 0.25; // Logo berukuran 25% dari canvas
                    const logoX = (canvasSize - logoSize) / 2;
                    let logoY = (canvasSize - logoSize) / 2;

                    // Penyesuaian posisi vertikal secara manual.
                    // Terkadang, gambar logo memiliki ruang transparan yang tidak seimbang.
                    // Ubah nilai di bawah ini untuk menggeser logo sedikit ke atas (negatif) atau ke bawah (positif) agar pas secara visual.
                    logoY -= 5; // Geser 5 piksel ke atas
                    // 3. (Revisi) Tambahkan latar belakang KOTAK putih di belakang logo.
                    // Ini adalah cara paling aman untuk memastikan QRIS bisa di-scan.
                    ctx.fillStyle = 'white';
                    const bgSize = logoSize * 1.15; // Ukuran background 115% dari logo, bisa disesuaikan.
                    const bgX = (canvasSize - bgSize) / 2;
                    const bgY = (canvasSize - bgSize) / 2;
                    ctx.fillRect(bgX, bgY, bgSize, bgSize);

                    // 4. Gambar logo di atas latar belakang kotak putih
                    ctx.drawImage(logoImage, logoX, logoY, logoSize, logoSize);

                }).catch(error => {
                    console.error(error);
                });

            // 5. Fungsikan tombol download
            downloadBtn.addEventListener('click', function(e) {
                e.preventDefault();
                const link = document.createElement('a');
                link.download = 'qris-setiarasa-with-logo.png';
                link.href = canvas.toDataURL('image/png');
                link.click();
            });
        }

        // --- Floating WhatsApp Button ---
        const floatingBtn = document.getElementById('whatsapp-floating-btn');
        if (floatingBtn) {
            const pesanDefault = "Halo, saya tertarik untuk memesan dari Rumah Makan Setia Rasa.";
            floatingBtn.href = `https://wa.me/${NOMOR_WHATSAPP}?text=${encodeURIComponent(pesanDefault)}`;
        }

        // --- Animate on Scroll ---
        const observerOptions = {
            root: null, // relative to the viewport
            rootMargin: '0px',
            threshold: 0.1 // trigger when 10% of the element is visible
        };

        const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                    observer.unobserve(entry.target); // Animate only once
                }
            });
        }, observerOptions);

        // Find all elements to animate and observe them
        const elementsToAnimate = document.querySelectorAll('.animate-on-scroll');
        elementsToAnimate.forEach(el => {
            observer.observe(el);
        });
    });
    </script>
</body>
</html>
